namespace SpriteKind {
    export const Pistol = SpriteKind.create()
    export const ShotGun = SpriteKind.create()
    export const Saw = SpriteKind.create()
    export const RATATATATA = SpriteKind.create()
    export const decor = SpriteKind.create()
    export const dead = SpriteKind.create()
    export const rocket = SpriteKind.create()
    export const rocketlaunching = SpriteKind.create()
    export const boom = SpriteKind.create()
    export const boss = SpriteKind.create()
    export const chest = SpriteKind.create()
    export const raygun = SpriteKind.create()
}
namespace StatusBarKind {
    export const bossHealth = StatusBarKind.create()
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.RATATATATA, function (sprite, otherSprite) {
    sprites.destroy(aim)
    sprites.destroy(otherSprite)
    aim = sprites.create(img`
        .............................................
        .............................................
        ......................2......................
        ......................2......................
        .............................................
        ..................222...222..................
        .............................................
        ......................2......................
        ......................2......................
        .............................................
        .............................................
        ......................1b1....................
        .....................ffff....................
        ......................1b1....................
        ......................1b1....................
        ......................1b1....................
        .....................ffff....................
        ......................1b1....................
        ......................1b1....................
        ......................1b1....................
        .....................ffff....................
        ......................1b1....................
        ......................1b1....................
        ....................fffff....................
        ...................ffffff....................
        ...................f.ffff....................
        .....................ffff....................
        .....................ffff....................
        .....................ffff....................
        .....................f.ff....................
        ...................fff.......................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        `, SpriteKind.decor)
    make_aim()
    Equipped = 3
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    movingUP = true
    move_forward()
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    statusbar2.value = 0
})
sprites.onOverlap(SpriteKind.Enemy, SpriteKind.boom, function (sprite, otherSprite) {
    statusbars.getStatusBarAttachedTo(StatusBarKind.EnemyHealth, sprite).value += -100
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.ShotGun, function (sprite, otherSprite) {
    sprites.destroy(aim)
    sprites.destroy(otherSprite)
    aim = sprites.create(img`
        .............................................
        .............................................
        ......................2......................
        ......................2......................
        .............................................
        ..................222...222..................
        .............................................
        ......................2......................
        ......................2......................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .....................4.......................
        .....................ff......................
        .....................ff......................
        .....................ff......................
        .....................ffff....................
        .....................ffff....................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        `, SpriteKind.decor)
    make_aim()
    Equipped = 2
})
statusbars.onZero(StatusBarKind.bossHealth, function (status) {
    game.gameOver(true)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (loaded == true) {
        if (Equipped == 1) {
            BBbullet = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . 1 . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                `, aim, bulletthrustX, bulletthrustY)
            statusbar2.value += -15
            pause(100)
        } else if (Equipped == 2) {
            for (let index = 0; index < 8; index++) {
                BBbullet = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . 
                    . . . . . . . 1 . . . . . . . 
                    . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . 
                    `, aim, bulletthrustX + randint(-20, 20), bulletthrustY + randint(-20, 20))
            }
            statusbar2.value += -50
            pause(200)
        } else if (Equipped == 4) {
            rocketlaunched = sprites.create(img`
                . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . 
                . . . . . . 7 7 . . . . . . 
                . . . . . . 7 7 . . . . . . 
                . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . 
                `, SpriteKind.rocketlaunching)
            rocketlaunched.startEffect(effects.fire)
            rocketlaunched.setPosition(aim.x, aim.y)
            rocketlaunched.setVelocity(bulletthrustX, bulletthrustY)
            statusbar2.value += -100
        } else if (Equipped == 5) {
            rocketlaunched = sprites.create(img`
                . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . 
                . . . . . . 7 7 . . . . . . 
                . . . . . . 7 7 . . . . . . 
                . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . 
                `, SpriteKind.rocketlaunching)
            rocketlaunched.startEffect(effects.fire)
            rocketlaunched.setPosition(aim.x, aim.y)
            rocketlaunched.setVelocity(bulletthrustX, bulletthrustY)
            pause(100)
        }
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.raygun, function (sprite, otherSprite) {
    sprites.destroy(aim)
    sprites.destroy(otherSprite)
    aim = sprites.create(img`
        .............................................
        .............................................
        ......................2......................
        ......................2......................
        .............................................
        ..................222...222..................
        .............................................
        ......................2......................
        ......................2......................
        .............................................
        .............................................
        .............................................
        .....................dd......................
        .....................dd......................
        ....................2dd2.....................
        ....................2dd2.....................
        ....................2222.....................
        ....................d22d.....................
        .....................dd......................
        ....................ddd......................
        .....................6d......................
        ....................d62d.....................
        .....................622.....................
        ....................d62d44...................
        .....................22d.4...................
        .....................22d.4...................
        ....................232222...................
        ...................273322222.................
        ...................25b2..222.................
        ....................22.......................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        `, SpriteKind.decor)
    make_aim()
    Equipped = 5
})
function make_trees () {
    for (let value of tiles.getTilesByType(assets.tile`myTile0`)) {
        tree = sprites.create(img`
            ................86..................
            ...............8678.................
            ..............687768................
            .............68777767...............
            ............6677777766..............
            ...........677777777786.............
            ..........77666776766686............
            ..........86666766767768............
            .........8666666666667778...........
            ........667766666666666676..........
            .......67766667666776667776.........
            ......886667776676777666688.........
            .....67766777667767777666768........
            ....6776666666777667776666776.......
            .....8667776667766676677776776......
            ......8777666666667776777776688.....
            ....6887766776677677777777776776....
            ..8866666677767777777777766666778...
            .86666666777667767777766666776668...
            ..88677666666777677677666667776668..
            ..86776677666666666666667776666668..
            886666677766667666666776677766668...
            6668666676667766767767766677666668..
            88866666666777677677667666666776668.
            .86668866666766776776666667766666668
            .86688666666666776666667667776666688
            .668866666666666666666677666666688..
            ..8866686666666666677667776666668...
            ...866886666666666677667776666668...
            ...86886668666666667666666666888....
            ....88866886686666666666666668......
            ......86886668666866668666868.......
            ......88866688668866688866888.......
            ........88888886888888.868..........
            ..............e88e88...88...........
            ...............eeee.................
            ...............ceef.................
            ...............ceef.................
            ...............feef.................
            ...............fcee.................
            ...............ffce.................
            `, SpriteKind.decor)
        tree.setScale(1.5, ScaleAnchor.Top)
        tiles.placeOnTile(tree, value)
        tiles.setTileAt(value, sprites.castle.tileDarkGrass3)
    }
}
controller.down.onEvent(ControllerButtonEvent.Released, function () {
    playerguy.setVelocity(0, 0)
    movingDOWN = false
})
function make_aim () {
    aim.setPosition(playerguy.x, playerguy.y)
    aim.follow(playerguy, 100)
    transformSprites.changeRotation(aim, rotation)
    aim.setFlag(SpriteFlag.GhostThroughWalls, true)
}
controller.right.onEvent(ControllerButtonEvent.Repeated, function () {
    transformSprites.changeRotation(aim, 3)
    rotation += 3
    move_forward()
})
function gunsmanage () {
    BBpistol = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . f f f f f 4 . . . . . 
        . . . . . f f f f f . . . . . . 
        . . . . . f f 1 . . . . . . . . 
        . . . . . f f . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Pistol)
    BBpistol.setPosition(1000, 1000)
    BBShotgun = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . b . . . . . . b . 
        . . . . . b b b 1 1 1 1 1 1 1 4 
        . e e e e e b b e e e . . . . . 
        . e e e e . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.ShotGun)
    BBShotgun.setPosition(1000, 1000)
    Equipped = 1
    rocket_launcher = sprites.create(img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ..f.....................
        ...fffeeeeeffffffff777..
        ...ffeeeeeffffffff777...
        ..f........ff..ff.......
        ..........ee..ee........
        ..............e.........
        ........................
        ........................
        ........................
        `, SpriteKind.rocket)
    rocket_launcher.setPosition(1000, 1000)
    Melee = 0
    MINIGUN = sprites.create(img`
        ....................
        ....................
        ....................
        ....................
        ....................
        f....ff.............
        f.....ff............
        ffffffff..f...f...f.
        ffffffff11f111f111f1
        .fffffffbbfbbbfbbbfb
        .fffffff11f111f111f1
        ....................
        ....................
        ....................
        ....................
        ....................
        `, SpriteKind.RATATATATA)
    MINIGUN.setPosition(1000, 1000)
    raygunn = sprites.create(img`
        ....................
        ....................
        ....................
        ....................
        ..22................
        .2572..d.d.d.d222...
        .2b33226666dd22dddd.
        ..23222222ddd22dddd.
        ...22ddd2d...d222...
        ...22..4............
        ..222444............
        ..22................
        ..22................
        ....................
        ....................
        ....................
        `, SpriteKind.raygun)
    raygunn.setPosition(1000, 1000)
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Pistol, function (sprite, otherSprite) {
    sprites.destroy(aim)
    sprites.destroy(otherSprite)
    aim = sprites.create(img`
        .............................................
        .............................................
        ......................2......................
        ......................2......................
        .............................................
        ..................222...222..................
        .............................................
        ......................2......................
        ......................2......................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        ......................1......................
        .....................b1......................
        ......................1......................
        ......................1......................
        ......................1......................
        ......................1e.....................
        ......................1e.....................
        ......................1e.....................
        .....................bbb.....................
        ......................bb.....................
        ......................be.....................
        .......................ee....................
        .......................ee....................
        .......................ee....................
        .......................ee....................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        `, SpriteKind.decor)
    make_aim()
    Equipped = 1
})
sprites.onOverlap(SpriteKind.Enemy, SpriteKind.Enemy, function (sprite, otherSprite) {
    if (sprite.x > otherSprite.x) {
        otherSprite.vx = -2
        sprite.vx = 2
    } else {
        otherSprite.vx = 2
        sprite.vx = -2
    }
    if (sprite.y > otherSprite.y) {
        otherSprite.vy = -2
        sprite.vy = 2
    } else {
        otherSprite.vy = 2
        sprite.vy = -2
    }
})
sprites.onOverlap(SpriteKind.boss, SpriteKind.Player, function (sprite, otherSprite) {
    playerhealth.value += -10
})
function aim_left () {
    if (Equipped == 1) {
        aim = sprites.create(img`
            .......................................................
            .......................................................
            ...........................2...........................
            ...........................2...........................
            .......................................................
            .......................222...222.......................
            .......................................................
            ...........................2...........................
            ...........................2...........................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            ............................4..........................
            ...........................ff..........................
            ...........................ff..........................
            ...........................ff..........................
            .........................ffff..........................
            .........................ffff..........................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            `, SpriteKind.decor)
    } else if (Equipped == 2) {
        aim = sprites.create(img`
            .......................................................
            .......................................................
            ...........................2...........................
            ...........................2...........................
            .......................................................
            .......................222...222.......................
            .......................................................
            ...........................2...........................
            ...........................2...........................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            ...........................1...........................
            ...........................1b..........................
            ...........................1...........................
            ...........................1...........................
            ...........................1...........................
            ..........................e1...........................
            ..........................e1...........................
            ..........................e1...........................
            ..........................bbb..........................
            ..........................bb...........................
            ..........................eb...........................
            .........................ee............................
            .........................ee............................
            .........................ee............................
            .........................ee............................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            `, SpriteKind.decor)
    } else if (Equipped == 3) {
        aim = sprites.create(img`
            .......................................................
            .......................................................
            ...........................2...........................
            ...........................2...........................
            .......................................................
            .......................222...222.......................
            .......................................................
            ...........................2...........................
            ...........................2...........................
            .......................................................
            .......................................................
            .........................1b1...........................
            .........................ffff..........................
            .........................1b1...........................
            .........................1b1...........................
            .........................1b1...........................
            .........................ffff..........................
            .........................1b1...........................
            .........................1b1...........................
            .........................1b1...........................
            .........................ffff..........................
            .........................1b1...........................
            .........................1b1...........................
            .........................fffff.........................
            .........................ffffff........................
            .........................ffff.f........................
            .........................ffff..........................
            .........................ffff..........................
            .........................ffff..........................
            .........................ff.f..........................
            ............................fff........................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            `, SpriteKind.decor)
    } else if (Equipped == 4) {
        aim = sprites.create(img`
            .......................................................
            .......................................................
            ...........................2...........................
            ...........................2...........................
            .......................................................
            .......................222...222.......................
            .......................................................
            ...........................2...........................
            ...........................2...........................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .............................7.........................
            ............................77.........................
            ............................77.........................
            ............................7f.........................
            ............................ff.........................
            ...........................fff.........................
            ..........................efff.........................
            .........................ee.ff.........................
            ............................ff.........................
            ...........................fff.........................
            ..........................efff.........................
            ..........................e.fe.........................
            ............................ee.........................
            ............................ee.........................
            ............................ee.........................
            ............................ee.........................
            ............................ef.........................
            ............................ff.........................
            ............................ff.........................
            ...........................f..f........................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            `, SpriteKind.decor)
    } else if (Equipped == 5) {
        aim = sprites.create(img`
            .......................................................
            .......................................................
            ...........................2...........................
            ...........................2...........................
            .......................................................
            .......................222...222.......................
            .......................................................
            ...........................2...........................
            ...........................2...........................
            .......................................................
            .......................................................
            .......................................................
            .............................dd........................
            .............................dd........................
            ............................2dd2.......................
            ............................2dd2.......................
            ............................2222.......................
            ............................d22d.......................
            .............................dd........................
            .............................ddd.......................
            .............................d6........................
            ............................d26d.......................
            ............................226........................
            ..........................44d26d.......................
            ..........................4.d22........................
            ..........................4.d22........................
            ..........................222232.......................
            ........................222223372......................
            ........................222..2b52......................
            ..............................22.......................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            `, SpriteKind.decor)
    }
}
sprites.onOverlap(SpriteKind.Enemy, SpriteKind.rocketlaunching, function (sprite, otherSprite) {
    explosion = sprites.create(img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ..........5555..........
        .........5555555........
        .......5554444555.......
        .......55444444555......
        ......554422224455......
        ......554422244455......
        ......554442444455......
        ......55544444455.......
        .......5554445555.......
        ........55555555........
        ...........555..........
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `, SpriteKind.boom)
    explosion.setScale(4, ScaleAnchor.Middle)
    explosion.setPosition(sprite.x, sprite.y)
    sprites.destroy(sprite)
    sprites.destroy(otherSprite)
    animation.runImageAnimation(
    explosion,
    [img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ..........5555..........
        .........544445.........
        ........5442245.........
        ........5422245.........
        ........5442445.........
        .........54445..........
        ..........555...........
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        .........55555..........
        ........5544455.........
        .......554444455........
        .......544224455........
        .......542222455........
        .......544222455........
        .......554424455........
        ........5544455.........
        .........55555..........
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ..........5555..........
        .........5555555........
        .......5554444555.......
        .......54444444555......
        ......554422444455......
        ......544222224455......
        ......544422244455......
        ......55444244455.......
        .......5544444555.......
        ........55555555........
        ...........555..........
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        .........5555555........
        .......5555444555.......
        ......555444444455......
        .....5554442444455......
        .....55444222444455.....
        .....55442222244455.....
        .....55442222244455.....
        .....55544222444455.....
        ......555444444445......
        .......55554444455......
        .........55555555.......
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........55555555........
        ......555555555555......
        .....5554444445555......
        ....555444444444555.....
        ....5544422224445555....
        ....5544222222444555....
        ....5544222222444555....
        ....5544222222244555....
        ....5544422222244555....
        ....5554442222444555....
        .....55544444444555.....
        ......555544444555......
        .......5555555555.......
        .........5555555........
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........55555555........
        ......555555555555......
        .....5554444445555......
        ....555444224444555.....
        ....5544422222445555....
        ....554422..22444555....
        ....554422...2244555....
        ....554422...2244555....
        ....5544222..2244555....
        ....5554422222244555....
        .....55544444444555.....
        ......555544444555......
        .......5555555555.......
        .........5555555........
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........55555555........
        ......555555555555......
        .....5554444445555......
        ....555444224444555.....
        ....55442.....245555....
        ....5542.......24555....
        ....5542.......24555....
        ....5544.......24555....
        ....55442......44555....
        ....55544......44555....
        .....55544422444555.....
        ......555544444555......
        .......5555555555.......
        .........5555555........
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........55555555........
        ......555555555555......
        .....5554.....5555......
        ....5554.......4555.....
        ....554.........5555....
        ....554.........4555....
        ....554.........4555....
        ....554.........4555....
        ....5544........4555....
        ....5554.......44555....
        .....5554......4555.....
        ......55554...4555......
        .......5555555555.......
        .........5555555........
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........55555555........
        ......55........55......
        .....5...........5......
        ....55............5.....
        ....5..............5....
        ....5..............5....
        ....5..............5....
        ....5.............55....
        ....5.............55....
        ....55............55....
        .....5............5.....
        ......5.........55......
        .......5.......55.......
        .........5555555........
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        .............555........
        ................55......
        .................5......
        ..................5.....
        ...................5....
        ...................5....
        ...................5....
        ...................5....
        ....5..............5....
        ....5..............5....
        .....5..................
        ......5.................
        .......5................
        .........5555..5........
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `],
    50,
    false
    )
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.rocket, function (sprite, otherSprite) {
    sprites.destroy(aim)
    sprites.destroy(otherSprite)
    aim = sprites.create(img`
        .............................................
        .............................................
        ......................2......................
        ......................2......................
        .............................................
        ..................222...222..................
        .............................................
        ......................2......................
        ......................2......................
        .............................................
        .............................................
        ......................1b1....................
        .....................ffff....................
        ......................1b1....................
        ......................1b1....................
        ......................1b1....................
        .....................ffff....................
        ......................1b1....................
        ......................1b1....................
        ......................1b1....................
        .....................ffff....................
        ......................1b1....................
        ......................1b1....................
        ....................fffff....................
        ...................ffffff....................
        ...................f.ffff....................
        .....................ffff....................
        .....................ffff....................
        .....................ffff....................
        .....................f.ff....................
        ...................fff.......................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        .............................................
        `, SpriteKind.decor)
    make_aim()
    Equipped = 4
})
statusbars.onZero(StatusBarKind.EnemyHealth, function (status) {
    zombie_num += -1
    animation.runImageAnimation(
    status.spriteAttachedTo(),
    [img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . c c c c c . . . . . . 
        . . . . c c c c c c c . . . . . 
        . . . . c c c c c c c . . . . . 
        . . . . c c c c c c c . . . . . 
        . . . . c c c c c c c . . . . . 
        . . c c c c c c c c . . . . . . 
        . . . . . . . c . . . . . . . . 
        . . . . c c c c . . . . . . . . 
        . . . . . . . c . . . . . . . . 
        . . . . . . . c . . . . . . . . 
        . . . . . . c . c . . . . . . . 
        . . . . . . c . c . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . c c c c c . . . . . . 
        . . . . c c c c c c c . . . . . 
        . . . . c c c c c c c . . . . . 
        . . . . c c c c c c c . . . . . 
        . . c c c c c c c c . . . . . . 
        . . . . . . . c . . . . . . . . 
        . . . . c c c c . . . . . . . . 
        . . . . . . . c . . . . . . . . 
        . . . . . . c . c . . . . . . . 
        . . . . . . c . c . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . c c c c c . . . . . . 
        . . . . c c c c c c c . . . . . 
        . . . . c c c c c c c . . . . . 
        . . c c c c c c c c . . . . . . 
        . . . . c c c c . . . . . . . . 
        . . . . . . . c . . . . . . . . 
        . . . . . . c . c . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . c c c c c . . . . . . 
        . . . . c c c c c c c . . . . . 
        . . c c c c c c c c . . . . . . 
        . . . . c c c c . . . . . . . . 
        . . . . . . c . c . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . c c c c c c c . . . . . 
        . . c c c c c c c c . . . . . . 
        . . . . c c c c c . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `],
    50,
    false
    )
    pause(250)
    dead_body = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . c c c c c c c . . . . . 
        . . c c c c c c c c . . . . . . 
        . . . . c c c c c . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.dead)
    dead_body.setPosition(status.spriteAttachedTo().x, status.spriteAttachedTo().y)
    sprites.destroy(status.spriteAttachedTo())
})
info.onScore(100, function () {
    wendigo = sprites.create(img`
        ................................
        ................d...............
        .................dd.............
        ..............d...d.d...........
        ...........dd..d...d............
        ............d...ddd.............
        ...d..d.....dd.d................
        d..d..d.......dd................
        .d.dd..d..cccdd.................
        .d..d.ddcccfcc..................
        .d..ddd.cfcccc..................
        .ddd....ccccc...................
        d........cc..c..................
        ..............c.................
        ...............cccc.............
        .................ccccc..........
        ..................ccccc.........
        ...............ccccccccc........
        .............cc....cccccc.......
        ...........cc....cccccccc.......
        ..........c....cc...cccccc......
        .........c....c......ccccc......
        .........cc..c........ccc.......
        ............c.........c.c..ccc..
        ...........c..........c..cc..c..
        ...........cc.........cc.....c..
        .......................c.cc..c..
        .......................cc.c..c..
        ..........................c..c..
        .........................c...c..
        .........................c..c...
        ........................c...c...
        `, SpriteKind.boss)
    tiles.placeOnRandomTile(wendigo, assets.tile`myTile3`)
    wendigo.follow(playerguy, 40)
    statusbar = statusbars.create(30, 2, StatusBarKind.bossHealth)
    statusbar.setColor(2, 12)
    statusbar.attachToSprite(wendigo, -1, 0)
})
function aim_right () {
    if (Equipped == 1) {
        aim = sprites.create(img`
            .......................................................
            .......................................................
            ...........................2...........................
            ...........................2...........................
            .......................................................
            .......................222...222.......................
            .......................................................
            ...........................2...........................
            ...........................2...........................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            ..........................4............................
            ..........................ff...........................
            ..........................ff...........................
            ..........................ff...........................
            ..........................ffff.........................
            ..........................ffff.........................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            `, SpriteKind.decor)
    } else if (Equipped == 2) {
        aim = sprites.create(img`
            .......................................................
            .......................................................
            ...........................2...........................
            ...........................2...........................
            .......................................................
            .......................222...222.......................
            .......................................................
            ...........................2...........................
            ...........................2...........................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            ...........................1...........................
            ..........................b1...........................
            ...........................1...........................
            ...........................1...........................
            ...........................1...........................
            ...........................1e..........................
            ...........................1e..........................
            ...........................1e..........................
            ..........................bbb..........................
            ...........................bb..........................
            ...........................be..........................
            ............................ee.........................
            ............................ee.........................
            ............................ee.........................
            ............................ee.........................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            `, SpriteKind.decor)
    } else if (Equipped == 3) {
        aim = sprites.create(img`
            .......................................................
            .......................................................
            ...........................2...........................
            ...........................2...........................
            .......................................................
            .......................222...222.......................
            .......................................................
            ...........................2...........................
            ...........................2...........................
            .......................................................
            .......................................................
            ...........................1b1.........................
            ..........................ffff.........................
            ...........................1b1.........................
            ...........................1b1.........................
            ...........................1b1.........................
            ..........................ffff.........................
            ...........................1b1.........................
            ...........................1b1.........................
            ...........................1b1.........................
            ..........................ffff.........................
            ...........................1b1.........................
            ...........................1b1.........................
            .........................fffff.........................
            ........................ffffff.........................
            ........................f.ffff.........................
            ..........................ffff.........................
            ..........................ffff.........................
            ..........................ffff.........................
            ..........................f.ff.........................
            ........................fff............................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            `, SpriteKind.decor)
    } else if (Equipped == 4) {
        aim = sprites.create(img`
            .......................................................
            .......................................................
            ...........................2...........................
            ...........................2...........................
            .......................................................
            .......................222...222.......................
            .......................................................
            ...........................2...........................
            ...........................2...........................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .........................7.............................
            .........................77............................
            .........................77............................
            .........................f7............................
            .........................ff............................
            .........................fff...........................
            .........................fffe..........................
            .........................ff.ee.........................
            .........................ff............................
            .........................fff...........................
            .........................fffe..........................
            .........................ef.e..........................
            .........................ee............................
            .........................ee............................
            .........................ee............................
            .........................ee............................
            .........................fe............................
            .........................ff............................
            .........................ff............................
            ........................f..f...........................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            `, SpriteKind.decor)
    } else if (Equipped == 5) {
        aim = sprites.create(img`
            .......................................................
            .......................................................
            ...........................2...........................
            ...........................2...........................
            .......................................................
            .......................222...222.......................
            .......................................................
            ...........................2...........................
            ...........................2...........................
            .......................................................
            .......................................................
            .......................................................
            ........................dd.............................
            ........................dd.............................
            .......................2dd2............................
            .......................2dd2............................
            .......................2222............................
            .......................d22d............................
            ........................dd.............................
            .......................ddd.............................
            ........................6d.............................
            .......................d62d............................
            ........................622............................
            .......................d62d44..........................
            ........................22d.4..........................
            ........................22d.4..........................
            .......................232222..........................
            ......................273322222........................
            ......................25b2..222........................
            .......................22..............................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            .......................................................
            `, SpriteKind.decor)
    }
}
statusbars.onZero(StatusBarKind.Health, function (status) {
    game.gameOver(false)
})
sprites.onOverlap(SpriteKind.Enemy, SpriteKind.Player, function (sprite, otherSprite) {
    playerhealth.value += -2
})
controller.up.onEvent(ControllerButtonEvent.Released, function () {
    playerguy.setVelocity(0, 0)
    movingUP = false
})
function chest2 () {
    for (let value2 of tiles.getTilesByType(sprites.dungeon.chestClosed)) {
        invis = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.chest)
        tiles.placeOnTile(invis, value2)
    }
}
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    movingDOWN = true
    move_forward()
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.boom, function (sprite, otherSprite) {
    playerhealth.value += -75
    pause(2000)
})
controller.A.onEvent(ControllerButtonEvent.Repeated, function () {
    if (loaded == true) {
        if (Equipped == 3) {
            BBbullet = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . 1 . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . 
                `, aim, bulletthrustX + randint(-20, 20), bulletthrustY + randint(-20, 20))
            statusbar2.value += -1
            pause(10)
        }
    }
})
statusbars.onStatusReached(StatusBarKind.Energy, statusbars.StatusComparison.GTE, statusbars.ComparisonType.Percentage, 100, function (status) {
    loaded = true
})
function bullet_speed () {
    thrustdir2 = transformSprites.getRotation(aim) - 90
    thrustDirRads2 = thrustdir2 * 3.1416 / 180
    bulletthrustX = bulled_speed * Math.cos(thrustDirRads2)
    bulletthrustY = bulled_speed * Math.sin(thrustDirRads2)
}
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.boss, function (sprite, otherSprite) {
    sprites.destroy(sprite)
    statusbars.getStatusBarAttachedTo(StatusBarKind.bossHealth, otherSprite).value += -1
})
statusbars.onStatusReached(StatusBarKind.Energy, statusbars.StatusComparison.LTE, statusbars.ComparisonType.Percentage, 0, function (status) {
    loaded = false
})
function is_exeeding_max_zombies (num_of_zombies: number, max_num_of_zombies: number) {
    if (num_of_zombies >= max_num_of_zombies) {
        return true
    } else {
        return false
    }
}
function move_forward () {
    thrustdir = transformSprites.getRotation(aim) - 90
    thrustDirRads = thrustdir * 3.1416 / 180
    thrustX = THRUSTER_VELOCITY * Math.cos(thrustDirRads)
    thrustY = THRUSTER_VELOCITY * Math.sin(thrustDirRads)
    if (movingUP == true) {
        playerguy.vx = thrustX
        playerguy.vy = thrustY
    } else if (movingDOWN == true) {
        playerguy.vx = thrustX * -1
        playerguy.vy = thrustY * -1
    }
}
sprites.onOverlap(SpriteKind.boss, SpriteKind.rocketlaunching, function (sprite, otherSprite) {
    explosion = sprites.create(img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ..........5555..........
        .........5555555........
        .......5554444555.......
        .......55444444555......
        ......554422224455......
        ......554422244455......
        ......554442444455......
        ......55544444455.......
        .......5554445555.......
        ........55555555........
        ...........555..........
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `, SpriteKind.boom)
    explosion.setScale(4, ScaleAnchor.Middle)
    explosion.setPosition(sprite.x, sprite.y)
    statusbars.getStatusBarAttachedTo(StatusBarKind.bossHealth, sprite).value += -25
    sprites.destroy(otherSprite)
    animation.runImageAnimation(
    explosion,
    [img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ..........5555..........
        .........544445.........
        ........5442245.........
        ........5422245.........
        ........5442445.........
        .........54445..........
        ..........555...........
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        .........55555..........
        ........5544455.........
        .......554444455........
        .......544224455........
        .......542222455........
        .......544222455........
        .......554424455........
        ........5544455.........
        .........55555..........
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ..........5555..........
        .........5555555........
        .......5554444555.......
        .......54444444555......
        ......554422444455......
        ......544222224455......
        ......544422244455......
        ......55444244455.......
        .......5544444555.......
        ........55555555........
        ...........555..........
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        .........5555555........
        .......5555444555.......
        ......555444444455......
        .....5554442444455......
        .....55444222444455.....
        .....55442222244455.....
        .....55442222244455.....
        .....55544222444455.....
        ......555444444445......
        .......55554444455......
        .........55555555.......
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........55555555........
        ......555555555555......
        .....5554444445555......
        ....555444444444555.....
        ....5544422224445555....
        ....5544222222444555....
        ....5544222222444555....
        ....5544222222244555....
        ....5544422222244555....
        ....5554442222444555....
        .....55544444444555.....
        ......555544444555......
        .......5555555555.......
        .........5555555........
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........55555555........
        ......555555555555......
        .....5554444445555......
        ....555444224444555.....
        ....5544422222445555....
        ....554422..22444555....
        ....554422...2244555....
        ....554422...2244555....
        ....5544222..2244555....
        ....5554422222244555....
        .....55544444444555.....
        ......555544444555......
        .......5555555555.......
        .........5555555........
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........55555555........
        ......555555555555......
        .....5554444445555......
        ....555444224444555.....
        ....55442.....245555....
        ....5542.......24555....
        ....5542.......24555....
        ....5544.......24555....
        ....55442......44555....
        ....55544......44555....
        .....55544422444555.....
        ......555544444555......
        .......5555555555.......
        .........5555555........
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........55555555........
        ......555555555555......
        .....5554.....5555......
        ....5554.......4555.....
        ....554.........5555....
        ....554.........4555....
        ....554.........4555....
        ....554.........4555....
        ....5544........4555....
        ....5554.......44555....
        .....5554......4555.....
        ......55554...4555......
        .......5555555555.......
        .........5555555........
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........55555555........
        ......55........55......
        .....5...........5......
        ....55............5.....
        ....5..............5....
        ....5..............5....
        ....5..............5....
        ....5.............55....
        ....5.............55....
        ....55............55....
        .....5............5.....
        ......5.........55......
        .......5.......55.......
        .........5555555........
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        .............555........
        ................55......
        .................5......
        ..................5.....
        ...................5....
        ...................5....
        ...................5....
        ...................5....
        ....5..............5....
        ....5..............5....
        .....5..................
        ......5.................
        .......5................
        .........5555..5........
        ........................
        ........................
        ........................
        ........................
        `,img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `],
    50,
    false
    )
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (sprite, otherSprite) {
    sprites.destroy(sprite)
    statusbars.getStatusBarAttachedTo(StatusBarKind.EnemyHealth, otherSprite).value += -50
})
controller.left.onEvent(ControllerButtonEvent.Repeated, function () {
    transformSprites.changeRotation(aim, -3)
    rotation += -3
    move_forward()
})
let Zombie: Sprite = null
let thrustY = 0
let thrustX = 0
let thrustDirRads = 0
let thrustdir = 0
let thrustDirRads2 = 0
let thrustdir2 = 0
let invis: Sprite = null
let statusbar: StatusBarSprite = null
let wendigo: Sprite = null
let dead_body: Sprite = null
let explosion: Sprite = null
let Melee = 0
let rotation = 0
let movingDOWN = false
let tree: Sprite = null
let rocketlaunched: Sprite = null
let bulletthrustY = 0
let bulletthrustX = 0
let BBbullet: Sprite = null
let movingUP = false
let Equipped = 0
let loaded = false
let bulled_speed = 0
let THRUSTER_VELOCITY = 0
let raygunn: Sprite = null
let MINIGUN: Sprite = null
let rocket_launcher: Sprite = null
let BBShotgun: Sprite = null
let BBpistol: Sprite = null
let aim: Sprite = null
let playerhealth: StatusBarSprite = null
let statusbar2: StatusBarSprite = null
let playerguy: Sprite = null
let ROTATION_CHANGE = 0
tiles.setCurrentTilemap(tilemap`level2`)
scene.setBackgroundColor(6)
playerguy = sprites.create(img`
    . . . . . e e e . e . . . 
    . . . . e e e e e e . . . 
    . . . e e e b e e e . . . 
    . . . e e f b f b . . . . 
    . . . . e b b b b . . . . 
    . . . . b b b b b . . . . 
    . . . . . c b c . . . . . 
    . . . . c b c b c . . . . 
    . . . . c b b c c . . . . 
    . . . . c b c b c . . . . 
    . . . . c c b b c . . . . 
    . . . . e e e e e . . . . 
    . . . . e e e e e . . . . 
    . . . . f e f f e . . . . 
    . . . . f f . f f . . . . 
    `, SpriteKind.Player)
tiles.placeOnRandomTile(playerguy, assets.tile`myTile3`)
statusbar2 = statusbars.create(15, 2, StatusBarKind.Energy)
statusbar2.attachToSprite(playerguy)
playerhealth = statusbars.create(15, 1, StatusBarKind.Health)
playerhealth.attachToSprite(playerguy)
aim = sprites.create(img`
    .............................................
    .............................................
    ......................2......................
    ......................2......................
    .............................................
    ..................222...222..................
    .............................................
    ......................2......................
    ......................2......................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    .............................................
    `, SpriteKind.decor)
make_aim()
chest2()
gunsmanage()
scene.cameraFollowSprite(playerguy)
let list = [
BBpistol,
BBShotgun,
rocket_launcher,
MINIGUN,
raygunn
]
THRUSTER_VELOCITY = 30
bulled_speed = 150
let zombie_num = 0
loaded = true
make_trees()
game.onUpdate(function () {
    if (rotation < 0 || rotation > 180) {
        sprites.destroy(aim)
        aim_left()
        make_aim()
    } else if (rotation > 0 || rotation < 180) {
        sprites.destroy(aim)
        aim_right()
        make_aim()
    }
    if (rotation == -180 || rotation == -360) {
        rotation = 180
    } else if (rotation == 180 || rotation == 360) {
        rotation = -180
    }
    bullet_speed()
})
game.onUpdateInterval(5000, function () {
	
})
game.onUpdateInterval(2000, function () {
    info.changeScoreBy(1)
})
game.onUpdateInterval(400, function () {
    if (info.score() > 100) {
        if (wendigo.vx >= 1) {
            animation.runImageAnimation(
            wendigo,
            [img`
                ................................
                ...............d................
                .............dd.................
                ...........d.d...d..............
                ............d...d..dd...........
                .............ddd...d............
                ................d.dd.....d..d...
                ................dd.......d..d..d
                .................ddccc..d..dd.d.
                ..................ccfcccdd.d..d.
                ..................ccccfc.ddd..d.
                ...................ccccc....ddd.
                ..................c..cc........d
                .................c..............
                .............cccc...............
                ..........ccccc.................
                .........ccccc..................
                ........ccccccccc...............
                .......cccccc....cc.............
                .......cccccccc....cc...........
                ......cccccc...cc....c..........
                ......ccccc......c....c.........
                .......ccc........c..cc.........
                ..ccc..c.c.........c............
                ..c..cc..c..........c...........
                ..c.....cc.........cc...........
                ..c..cc.c.......................
                ..c..c.cc.......................
                ..c..c..........................
                ..c...c.........................
                ...c..c.........................
                ...c...c........................
                `,img`
                ................................
                ...............d................
                .............dd.................
                ...........d.d...d..............
                ............d...d..dd...........
                .............ddd...d............
                ................d.dd.....d..d...
                ................dd.......d..d..d
                .................ddccc..d..dd.d.
                ..................ccfcccdd.d..d.
                ..................ccccfc.ddd..d.
                ...................ccccc....ddd.
                ..................c..cc........d
                .................c..............
                .............cccc...............
                ..........ccccc....ccccc........
                .........ccccc..ccc....c........
                ........cccccccc................
                .......cccccc....cc.............
                .......cccccccccc..ccc..........
                ......cccccc..........cc........
                ......ccccc............c........
                .......ccc......................
                ..ccc..c.c......................
                ..c..cc..c......................
                .c......cc......................
                .c......c.......................
                c.......c.......................
                c.......c.......................
                c........c......................
                c.........c.....................
                c..........c....................
                `],
            200,
            true
            )
        } else {
            animation.runImageAnimation(
            wendigo,
            [img`
                ................................
                ................d...............
                .................dd.............
                ..............d...d.d...........
                ...........dd..d...d............
                ............d...ddd.............
                ...d..d.....dd.d................
                d..d..d.......dd................
                .d.dd..d..cccdd.................
                .d..d.ddcccfcc..................
                .d..ddd.cfcccc..................
                .ddd....ccccc...................
                d........cc..c..................
                ..............c.................
                ...............cccc.............
                .................ccccc..........
                ..................ccccc.........
                ...............ccccccccc........
                .............cc....cccccc.......
                ...........cc....cccccccc.......
                ..........c....cc...cccccc......
                .........c....c......ccccc......
                .........cc..c........ccc.......
                ............c.........c.c..ccc..
                ...........c..........c..cc..c..
                ...........cc.........cc.....c..
                .......................c.cc..c..
                .......................cc.c..c..
                ..........................c..c..
                .........................c...c..
                .........................c..c...
                ........................c...c...
                `,img`
                ................................
                ................d...............
                .................dd.............
                ..............d...d.d...........
                ...........dd..d...d............
                ............d...ddd.............
                ...d..d.....dd.d................
                d..d..d.......dd................
                .d.dd..d..cccdd.................
                .d..d.ddcccfcc..................
                .d..ddd.cfcccc..................
                .ddd....ccccc...................
                d........cc..c..................
                ..............c.................
                ...............cccc.............
                ........ccccc....ccccc..........
                ........c....ccc..ccccc.........
                ................cccccccc........
                .............cc....cccccc.......
                ..........ccc..cccccccccc.......
                ........cc..........cccccc......
                ........c............ccccc......
                ......................ccc.......
                ......................c.c..ccc..
                ......................c..cc..c..
                ......................cc......c.
                .......................c......c.
                .......................c.......c
                .......................c.......c
                ......................c........c
                .....................c.........c
                ....................c..........c
                `],
            200,
            true
            )
        }
    }
})
game.onUpdateInterval(500, function () {
    if (Math.percentChance(info.score())) {
        if (is_exeeding_max_zombies(zombie_num, 100) == false) {
            if (Math.percentChance(info.score())) {
                Zombie = sprites.create(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . 2 2 2 2 2 . . . . . . 
                    . . . . 2 . . . . . 2 . . . . . 
                    . . . . 2 . . . . . 2 . . . . . 
                    . . . . 2 . . . . . 2 . . . . . 
                    . . . . 2 . . . . . 2 . . . . . 
                    . . 2 2 2 2 2 2 2 2 . . . . . . 
                    . . . . . . . 2 . . . . . . . . 
                    . . . . 2 2 2 2 . . . . . . . . 
                    . . . . . . . 2 . . . . . . . . 
                    . . . . . . . 2 . . . . . . . . 
                    . . . . . . 2 . 2 . . . . . . . 
                    . . . . . . 2 . 2 . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, SpriteKind.Enemy)
                animation.runImageAnimation(
                Zombie,
                [img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . 2 2 b . . . . . . . 
                    . . . . 2 2 2 2 b b . . . . . . 
                    . . . . 2 2 2 f 2 2 . . . . . . 
                    . . . . . f 2 2 2 2 . . . . . . 
                    . . . . . 2 2 2 2 . . . . . . . 
                    . . . 2 2 2 e e e e . . . . . . 
                    . . . 2 2 2 e 2 2 2 e . . . . . 
                    . . . . . . e 2 2 2 e . . . . . 
                    . . . . . . e e e e e . . . . . 
                    . . . . . . e e e e e . . . . . 
                    . . . . . . . c c b b . . . . . 
                    . . . . . . . c c b . . . . . . 
                    . . . . . . . c f b . . . . . . 
                    . . . . . . . f b . . . . . . . 
                    `,img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . 2 2 b . . . . . . . 
                    . . . . 2 2 2 2 b b . . . . . . 
                    . . . . 2 2 2 f 2 2 . . . . . . 
                    . . . . . f 2 2 2 2 . . . . . . 
                    . . . 2 2 2 2 2 2 e . . . . . . 
                    . . . 2 2 2 e 2 2 2 e . . . . . 
                    . . . . . . e 2 2 2 e . . . . . 
                    . . . . . . e e e e e . . . . . 
                    . . . . . . e e e e e . . . . . 
                    . . . . . . . c c b b . . . . . 
                    . . . . . . . c c b . . . . . . 
                    . . . . . . . f f b . . . . . . 
                    `,img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . 2 2 b . . . . . . . 
                    . . . . 2 2 2 2 b b . . . . . . 
                    . . . . 2 2 2 f 2 2 . . . . . . 
                    . . . . . f 2 2 2 2 . . . . . . 
                    . . . . . 2 2 2 2 . . . . . . . 
                    . . . . . . e e e e . . . . . . 
                    . . . 2 2 2 e e e e e . . . . . 
                    . . . 2 2 2 e 2 2 2 e . . . . . 
                    . . . . . . e 2 2 2 e . . . . . 
                    . . . . . . e e e e e . . . . . 
                    . . . . . . c b c c b . . . . . 
                    . . . . . . c b c c b . . . . . 
                    . . . . . . c b . c b . . . . . 
                    . . . . . . f b . f b . . . . . 
                    `],
                100,
                true
                )
                tiles.placeOnRandomTile(Zombie, assets.tile`myTile3`)
                Zombie.follow(playerguy, 20)
                statusbar = statusbars.create(15, 1, StatusBarKind.EnemyHealth)
                statusbar.setColor(2, 12)
                statusbar.attachToSprite(Zombie, -1, 0)
                sprites.destroy(dead_body, effects.disintegrate, 500)
            } else {
                Zombie = sprites.create(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . c c c c c . . . . . . 
                    . . . . c . . . . . c . . . . . 
                    . . . . c . . . . . c . . . . . 
                    . . . . c . . . . . c . . . . . 
                    . . . . c . . . . . c . . . . . 
                    . . c c c c c c c c . . . . . . 
                    . . . . . . . c . . . . . . . . 
                    . . . . c c c c . . . . . . . . 
                    . . . . . . . c . . . . . . . . 
                    . . . . . . . c . . . . . . . . 
                    . . . . . . c . c . . . . . . . 
                    . . . . . . c . c . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, SpriteKind.Enemy)
                animation.runImageAnimation(
                Zombie,
                [img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . 7 7 b . . . . . . . 
                    . . . . 7 7 7 7 b b . . . . . . 
                    . . . . 7 7 7 f 7 7 . . . . . . 
                    . . . . . f 7 7 7 7 . . . . . . 
                    . . . . . 7 7 7 7 . . . . . . . 
                    . . . . . . e e e e . . . . . . 
                    . . . 7 7 7 e e e e e . . . . . 
                    . . . 7 7 7 e 7 7 7 e . . . . . 
                    . . . . . . e 7 7 7 e . . . . . 
                    . . . . . . e e e e e . . . . . 
                    . . . . . . c b c c b . . . . . 
                    . . . . . . c b c c b . . . . . 
                    . . . . . . c b . c b . . . . . 
                    . . . . . . f b . f b . . . . . 
                    `,img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . 7 7 b . . . . . . . 
                    . . . . 7 7 7 7 b b . . . . . . 
                    . . . . 7 7 7 f 7 7 . . . . . . 
                    . . . . . f 7 7 7 7 . . . . . . 
                    . . . . . 7 7 7 7 . . . . . . . 
                    . . . 7 7 7 e e e e . . . . . . 
                    . . . 7 7 7 e 7 7 7 e . . . . . 
                    . . . . . . e 7 7 7 e . . . . . 
                    . . . . . . e e e e e . . . . . 
                    . . . . . . e e e e e . . . . . 
                    . . . . . . . c c b b . . . . . 
                    . . . . . . . c c b . . . . . . 
                    . . . . . . . c f b . . . . . . 
                    . . . . . . . f b . . . . . . . 
                    `,img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . 7 7 b . . . . . . . 
                    . . . . 7 7 7 7 b b . . . . . . 
                    . . . . 7 7 7 f 7 7 . . . . . . 
                    . . . . . f 7 7 7 7 . . . . . . 
                    . . . 7 7 7 7 7 7 e . . . . . . 
                    . . . 7 7 7 e 7 7 7 e . . . . . 
                    . . . . . . e 7 7 7 e . . . . . 
                    . . . . . . e e e e e . . . . . 
                    . . . . . . e e e e e . . . . . 
                    . . . . . . . c c b b . . . . . 
                    . . . . . . . c c b . . . . . . 
                    . . . . . . . f f b . . . . . . 
                    `,img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . 7 7 b . . . . . . . 
                    . . . . 7 7 7 7 b b . . . . . . 
                    . . . . 7 7 7 f 7 7 . . . . . . 
                    . . . . . f 7 7 7 7 . . . . . . 
                    . . . . . 7 7 7 7 . . . . . . . 
                    . . . . . . e e e e . . . . . . 
                    . . . 7 7 7 e e e e e . . . . . 
                    . . . 7 7 7 e 7 7 7 e . . . . . 
                    . . . . . . e 7 7 7 e . . . . . 
                    . . . . . . e e e e e . . . . . 
                    . . . . . . c b c c b . . . . . 
                    . . . . . . c b c c b . . . . . 
                    . . . . . . c b . c b . . . . . 
                    . . . . . . f b . f b . . . . . 
                    `],
                100,
                true
                )
                tiles.placeOnRandomTile(Zombie, assets.tile`myTile3`)
                Zombie.follow(playerguy, 10)
                statusbar = statusbars.create(15, 1, StatusBarKind.EnemyHealth)
                statusbar.setColor(2, 12)
                statusbar.attachToSprite(Zombie, -1, 0)
                sprites.destroy(dead_body, effects.disintegrate, 500)
            }
            zombie_num += 1
        }
    }
})
game.onUpdateInterval(100, function () {
    if (loaded == false) {
        if (Equipped == 1) {
            statusbar2.value += 10
        } else if (Equipped == 2) {
            statusbar2.value += 10
        } else if (Equipped == 3) {
            statusbar2.value += 2
        } else if (Equipped == 4) {
            statusbar2.value += 2
        } else if (Equipped == 5) {
            statusbar2.value += 50
        }
    }
})
game.onUpdateInterval(20000, function () {
    list[randint(1, list.length - 1)].setPosition(randint(invis.x - 25, invis.x + 25), randint(invis.y - 50, invis.x - 30))
})
